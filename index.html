<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyleaMUN 2027 - Country Availability</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        /* Shared 2027 Theme Styles */
        body { 
            font-family: 'Roboto', sans-serif; 
            margin: 0; 
            background-color: #fcfbf9; 
            color: #001f3f;
            padding-top: 56px;
        }
        
        .navbar-custom { background-color: #fcfbf9; }

        /* Hero Section */
        .hero {
            background-image: url('logo.png');
            background-repeat: no-repeat;
            background-size: contain;
            background-position: center center;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            text-align: center;
            height: 35vh; 
            margin-bottom: 2rem;
        }
        
        .hero::before {
            content: "";
            position: absolute;
            inset: 0;
            background-color: rgba(252, 251, 249, 0.85);
        }

        .hero-content { position: relative; z-index: 1; padding: 0 1rem; }

        .page-title {
            color: #008080; /* Teal */
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 2.5rem;
            border-bottom: 3px solid #b8860b;
            padding-bottom: 10px;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .hero-warning {
            font-style: italic;
            font-size: 1.1rem;
            color: #001f3f;
            max-width: 800px; /* Slightly wider to accommodate two lines */
            margin: 0 auto;
            font-weight: 500;
            line-height: 1.6;
        }

        /* List Styles */
        .country-row { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 1rem 1.5rem; 
            background-color: #fff;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border-left: 5px solid transparent;
            transition: transform 0.2s;
        }
        
        .country-row:hover { transform: translateX(5px); }

        .country-name { 
            font-weight: 500; 
            font-size: 1.1rem;
            color: #001f3f;
        }

        .membership-tag {
            font-size: 0.85rem;
            color: #666;
            margin-left: 8px;
            font-weight: 400;
            font-style: italic;
        }

        /* Status Indicators */
        .btn-group-toggle .btn { pointer-events: none; }
        
        .btn-outline-success { color: #008080; border-color: #008080; }
        .btn-available.active { 
            background-color: #008080 !important; 
            color: #fff !important; 
            border-color: #008080 !important; 
        }

        .btn-unavailable.active { 
            background-color: #dc3545 !important; 
            color: #fff !important; 
            border-color: #dc3545 !important; 
        }

        footer { 
            background: #001f3f; 
            color: #fcfbf9; 
            padding: 2rem 0; 
            margin-top: 4rem;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light navbar-custom fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="https://pyleamun.github.io/pyleaMUN2027/" style="color: #008080; font-weight: bold; text-decoration: none;">
                <img src="logo.png" alt="PyleaMUN Logo" class="me-2" style="height:40px;">
                PyleaMUN
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navMenu">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="https://pyleamun.github.io/pyleaMUN2027/">Home</a></li>
                    </ul>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <h1 class="page-title">Country Availability</h1>
            <p class="hero-warning">
                If your country of choice is not represented in NATO then you cannot have a delegate in that committee.<br>
                If your country of choice is not a permanent or non-permanent member of the Security Council then you can participate and debate but not vote (Guest Status).
            </p>
        </div>
    </header>

    <div class="container" style="max-width: 900px;">
        <div id="country-list" class="list-group"></div>
    </div>

    <footer class="text-center">
        <div class="container">
            <p>&copy; 2027 PyleaMUN. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Version 31: Updated Security Council designations (Perm vs Non-Perm)
        const SCRIPT_VERSION = 31;

        const listContainer = document.getElementById('country-list');
        
        const countries = [
          // A
          "Albania", "Algeria", "Andorra", "Angola", "Argentina", "Armenia", "Australia", "Austria", "Azerbaijan",
          // B
          "Bahrain", "Bangladesh", "Belarus", "Belgium", "Belize", "Bhutan", "Bolivia", "Bosnia and Herzegovina", 
          "Brazil", "Bulgaria",
          // C
          "Cambodia", "Canada", "Chile", "China", "Colombia", "Costa Rica", "CÃ´te d'Ivoire", "Croatia", "Cuba", "Cyprus", "Czech Republic",
          // D
          "Democratic Republic of the Congo", "Denmark", "Dominican Republic",
          // E
          "Ecuador", "Egypt", "Estonia", "Ethiopia",
          // F
          "Fiji", "Finland", "France",
          // G
          "Georgia", "Germany", "Ghana", "Greece", "Guatemala",
          // H
          "Hungary",
          // I
          "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Israel", "Italy",
          // J
          "Jamaica", "Japan", "Jordan",
          // K
          "Kazakhstan", "Kenya", "Kuwait", "Kyrgyzstan",
          // L
          "Laos", "Latvia", "Lebanon", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg",
          // M
          "Malaysia", "Maldives", "Malta", "Mexico", "Moldova", "Monaco", "Mongolia", "Montenegro", "Morocco",
          // N
          "Nepal", "Netherlands", "New Zealand", "Nigeria", "North Macedonia", "North Korea", "Norway",
          // O
          "Oman",
          // P
          "Pakistan", "Panama", "Peru", "Philippines", "Poland", "Portugal",
          // Q
          "Qatar",
          // R
          "Romania", "Russia", "Rwanda",
          // S
          "San Marino", "Saudi Arabia", "Senegal", "Serbia", "Singapore", "Slovakia", "Slovenia", 
          "Somalia", "South Africa", "South Korea", "Spain", "Sri Lanka", "Sudan", "Sweden", "Switzerland",
          // T
          "Tanzania", "Thailand", "Tunisia", "Turkey",
          // U
          "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "Uruguay", "Uzbekistan",
          // V
          "Venezuela", "Vietnam",
          // Z
          "Zimbabwe"
        ].sort();

        // NATO Members (32 as of 2027 context)
        const natoMembers = [
            "Albania", "Belgium", "Bulgaria", "Canada", "Croatia", "Czech Republic", "Denmark", 
            "Estonia", "Finland", "France", "Germany", "Greece", "Hungary", "Iceland", "Italy", 
            "Latvia", "Lithuania", "Luxembourg", "Montenegro", "Netherlands", "North Macedonia", 
            "Norway", "Poland", "Portugal", "Romania", "Slovakia", "Slovenia", "Spain", "Sweden", 
            "Turkey", "United Kingdom", "United States"
        ];

        // Security Council - Permanent Members
        const scPermMembers = [
            "China", "France", "Russia", "United Kingdom", "United States"
        ];

        // Security Council - Non-Permanent Members (Confirmed for 2027)
        // Note: These members serve the 2026-2027 term. 
        // The 2027-2028 class is elected in June 2026 and is not included yet.
        const scNonPermMembers = [
            "Bahrain", "Colombia", "Democratic Republic of the Congo", "Latvia", "Liberia"
        ];

        function checkVersion() {
          const savedVersion = localStorage.getItem('scriptVersion');
          if (savedVersion !== SCRIPT_VERSION.toString()) {
            console.log('New script version detected. Clearing old data.');
            localStorage.clear();
            localStorage.setItem('scriptVersion', SCRIPT_VERSION);
          }
        }

        function loadCountries() {
          countries.forEach(country => {
            const saved = localStorage.getItem(country);
            let availActive = '';
            let unavailActive = '';
            
            if (saved) {
              availActive = saved === 'available' ? 'active' : '';
              unavailActive = saved === 'unavailable' ? 'active' : '';
            } else {
              // Rule: Only France is unavailable.
              if (country === 'France') {
                unavailActive = 'active';
                localStorage.setItem(country, 'unavailable');
              } else {
                availActive = 'active';
                localStorage.setItem(country, 'available');
              }
            }

            // Determine Tags
            let tags = [];
            
            if (natoMembers.includes(country)) {
                tags.push("NATO");
            }
            
            if (scPermMembers.includes(country)) {
                tags.push("Security Council permanent member");
            } else if (scNonPermMembers.includes(country)) {
                tags.push("Security Council non-permanent member");
            }
            
            let tagHTML = "";
            if (tags.length > 0) {
                tagHTML = `<span class="membership-tag">(${tags.join(", ")})</span>`;
            }

            const row = document.createElement('div');
            row.className = 'country-row';
            
            if (unavailActive === 'active') {
                row.style.borderLeftColor = '#dc3545';
            } else {
                row.style.borderLeftColor = '#008080';
            }

            row.innerHTML = `
              <span class="country-name">${country}${tagHTML}</span>
              <div class="btn-group" role="group">
                <button type="button" class="btn btn-outline-success btn-available ${availActive}">Available</button>
                <button type="button" class="btn btn-outline-danger btn-unavailable ${unavailActive}">Unavailable</button>
              </div>
            `;
            listContainer.appendChild(row);
          });
        }

        checkVersion();
        loadCountries();
    </script>
</body>
</html>